tinymce.PluginManager.add("filehub",(function(e){function t(){let t=Math.min(window.innerWidth-20,1800),n=Math.min(window.innerHeight-40,1200);t>600&&(t-=(t-20)%138-10),e.focus(!0);const a=e.getParam("filemanager_title","File Manager"),i=e.getParam("filemanager_sort_by",""),r=e.getParam("filemanager_descending","false"),o=`${e.getParam("external_filemanager_path")}?multiple=true&type=image&sortorder=${r}&sort_by=${i}`;e.windowManager[tinymce.majorVersion<5?"open":"openUrl"]({title:a,url:o,width:t,height:n,inline:1,resizable:!0,maximizable:!0})}var n,a;return window.addEventListener("message",(function t(n){"filehub"===n.data.sender&&(e.insertContent(n.data.html),e.windowManager.close(),window.removeEventListener("message",t,!1))}),!1),n="filehub",a={icon:"browse",tooltip:"Insert file",shortcut:"Ctrl+E",onAction:t},tinymce.majorVersion<5?(e.addButton(n,a),e.addMenuItem(n,{...a,context:"insert"})):(e.ui.registry.addButton(n,a),e.ui.registry.addMenuItem(n,{...a,context:"insert"})),e.addShortcut("Ctrl+E","",t),{getMetadata:()=>({name:"File Manager",url:"https://sureshchand.com.np/filehub/docs/"})}}));